package com.ff.auction.domain;

import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;

import org.springframework.lang.NonNull;

import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAttribute;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBDocument;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;
import com.ff.auction.dto.CreateDto;

@DynamoDBTable(tableName = "League")
public class AuctionLeague implements Serializable {
	
	private static final long serialVersionUID = 1L;
	
	private String leagueId;
	private String leagueName;
	private String draftTurn = "1";
    private String PPR;    
    private String maxPlayers;
    private String totalBudget = "0";
	private String status = "Created";
    
    private List<AuctionTeam> auctionTeams = new ArrayList<AuctionTeam>();
    
    public AuctionLeague() {}
    
    public AuctionLeague(CreateDto createDto) {
    	this.leagueName = createDto.getLeagueName();
    	this.PPR = createDto.getPpr();
		this.totalBudget = createDto.getTotalBudget();
		this.maxPlayers =	 createDto.getMaxPlayers();
    }
//    Double asDouble(Object o) {
//		if (o != null) {
//	    Double val = null;
//	    if (o instanceof Number) {
//	        val = ((Number) o).doubleValue();
//	    }
//	    return val;
//	    } else {
//	    	return null;
//	    }
//	}
    
    // Getters
    @NonNull
    @DynamoDBHashKey
    @DynamoDBAutoGeneratedKey
    public String getLeagueId() {
		return leagueId;
	}
    @DynamoDBAttribute
    public String getLeagueName() {
        return this.leagueName;
    }
    @DynamoDBAttribute
    public String getPPR() {
        return this.PPR;
    } 
    @DynamoDBAttribute
    public String getTotalBudget() {
        return this.totalBudget;
    }    
    @DynamoDBAttribute
    public String getMaxPlayers() {
        return this.maxPlayers;
    }
    @DynamoDBAttribute
    public List<AuctionTeam> getAuctionTeams() {
		return auctionTeams;
	}
    
    @DynamoDBAttribute
	public String getDraftTurn() {
		return draftTurn;
	}
    @DynamoDBAttribute
    public String getStatus() {
    	return this.status;
    }
	public AuctionTeam getTeam(String teamName) {
    	for (AuctionTeam team : this.auctionTeams) {
    		if (team.getTeamName() == teamName) {
    			return team;
    		}
    	}
 		return null;
    }
    
	// Setters
    
    public void addAuctionTeam(AuctionTeam auctionTeams) {
    	this.auctionTeams.add(auctionTeams);
    }
	public void setStatus(String status) {
		this.status = status;
	}

	public static long getSerialversionuid() {
		return serialVersionUID;
	}

	public void setLeagueId(String leagueId) {
		this.leagueId = leagueId;
	}

	public void setLeagueName(String leagueName) {
		this.leagueName = leagueName;
	}

	public void setDraftTurn(String draftTurn) {
		this.draftTurn = draftTurn;
	}

	public void setAuctionTeams(List<AuctionTeam> auctionTeams) {
		this.auctionTeams = auctionTeams;
	}
	
	public void setName(String leagueName) {
		this.leagueName = leagueName;
	}
    
	public void setPPR(String pPR) {
		this.PPR = pPR;
	}
    
	public void setTotalBudget(String totalBudget) {
		this.totalBudget = totalBudget;
	}
	public void setMaxPlayers(String maxPlayers) {
		this.maxPlayers = maxPlayers;
	}
}